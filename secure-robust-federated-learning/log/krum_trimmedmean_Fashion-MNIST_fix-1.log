Round:  0
Client Selection Procss-------------------
Malicious node indices: [88] Attack Type: krum
This is the fix-attacker training!
Malicious node indices: [66] Attack Type: krum
Selected workers: [66, 25, 6, 95, 16, 30, 34, 64, 90, 11]
  0%|          | 0/10 [00:00<?, ?it/s] 10%|█         | 1/10 [00:02<00:24,  2.77s/it] 20%|██        | 2/10 [00:04<00:14,  1.87s/it] 30%|███       | 3/10 [00:05<00:11,  1.58s/it] 40%|████      | 4/10 [00:06<00:08,  1.46s/it] 50%|█████     | 5/10 [00:07<00:06,  1.39s/it] 60%|██████    | 6/10 [00:09<00:05,  1.34s/it] 70%|███████   | 7/10 [00:10<00:03,  1.32s/it] 80%|████████  | 8/10 [00:11<00:02,  1.33s/it] 90%|█████████ | 9/10 [00:12<00:01,  1.33s/it]100%|██████████| 10/10 [00:14<00:00,  1.38s/it]100%|██████████| 10/10 [00:14<00:00,  1.45s/it]
attack krum
agg: trimmedmean
trimmedmean running time:  0.03448891639709473

Test set: Avg. loss: 2.2971, Accuracy: 1000/10000 (10%)

Round:  1
Client Selection Procss-------------------
Malicious node indices: [66] Attack Type: krum
This is the fix-attacker training!
Malicious node indices: [62] Attack Type: krum
Selected workers: [62, 70, 53, 99, 49, 93, 27, 67, 28, 71]
  0%|          | 0/10 [00:00<?, ?it/s] 10%|█         | 1/10 [00:01<00:10,  1.22s/it] 20%|██        | 2/10 [00:02<00:09,  1.23s/it] 30%|███       | 3/10 [00:03<00:08,  1.26s/it] 40%|████      | 4/10 [00:05<00:07,  1.27s/it] 50%|█████     | 5/10 [00:06<00:06,  1.27s/it] 60%|██████    | 6/10 [00:07<00:05,  1.30s/it] 70%|███████   | 7/10 [00:09<00:03,  1.33s/it] 80%|████████  | 8/10 [00:10<00:02,  1.33s/it] 90%|█████████ | 9/10 [00:11<00:01,  1.34s/it]100%|██████████| 10/10 [00:13<00:00,  1.31s/it]100%|██████████| 10/10 [00:13<00:00,  1.30s/it]
attack krum
agg: trimmedmean
trimmedmean running time:  0.03470134735107422

Test set: Avg. loss: 2.2859, Accuracy: 1000/10000 (10%)

Round:  2
Client Selection Procss-------------------
Malicious node indices: [62] Attack Type: krum
This is the fix-attacker training!
Malicious node indices: [40] Attack Type: krum
Selected workers: [40, 3, 21, 96, 14, 86, 98, 51, 13, 76]
  0%|          | 0/10 [00:00<?, ?it/s] 10%|█         | 1/10 [00:01<00:11,  1.24s/it] 20%|██        | 2/10 [00:02<00:09,  1.23s/it] 30%|███       | 3/10 [00:03<00:08,  1.24s/it] 40%|████      | 4/10 [00:05<00:07,  1.26s/it] 50%|█████     | 5/10 [00:06<00:06,  1.27s/it] 60%|██████    | 6/10 [00:07<00:05,  1.29s/it] 70%|███████   | 7/10 [00:08<00:03,  1.27s/it] 80%|████████  | 8/10 [00:10<00:02,  1.29s/it] 90%|█████████ | 9/10 [00:11<00:01,  1.30s/it]100%|██████████| 10/10 [00:12<00:00,  1.27s/it]100%|██████████| 10/10 [00:12<00:00,  1.27s/it]
attack krum
agg: trimmedmean
trimmedmean running time:  0.034348249435424805

Test set: Avg. loss: 2.2696, Accuracy: 1155/10000 (12%)

Round:  3
Client Selection Procss-------------------
Malicious node indices: [40] Attack Type: krum
This is the fix-attacker training!
Malicious node indices: [23] Attack Type: krum
Selected workers: [23, 38, 1, 34, 85, 75, 9, 66, 12, 22]
  0%|          | 0/10 [00:00<?, ?it/s] 10%|█         | 1/10 [00:01<00:11,  1.28s/it] 20%|██        | 2/10 [00:02<00:10,  1.30s/it] 20%|██        | 2/10 [00:03<00:15,  1.95s/it]
Traceback (most recent call last):
  File "/home/xingyu/secure-robust-federated-learning/src/simulate.py", line 524, in <module>
    for idx, (feature, target) in enumerate(train_loaders[c], 0):
  File "/home/xingyu/.local/lib/python3.9/site-packages/torch/utils/data/dataloader.py", line 633, in __next__
    data = self._next_data()
  File "/home/xingyu/.local/lib/python3.9/site-packages/torch/utils/data/dataloader.py", line 677, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/home/xingyu/.local/lib/python3.9/site-packages/torch/utils/data/_utils/fetch.py", line 51, in fetch
    data = [self.dataset[idx] for idx in possibly_batched_index]
  File "/home/xingyu/.local/lib/python3.9/site-packages/torch/utils/data/_utils/fetch.py", line 51, in <listcomp>
    data = [self.dataset[idx] for idx in possibly_batched_index]
  File "/home/xingyu/.local/lib/python3.9/site-packages/torch/utils/data/dataset.py", line 298, in __getitem__
    return self.dataset[self.indices[idx]]
  File "/home/xingyu/.local/lib/python3.9/site-packages/torchvision/datasets/mnist.py", line 145, in __getitem__
    img = self.transform(img)
  File "/home/xingyu/.local/lib/python3.9/site-packages/torchvision/transforms/transforms.py", line 137, in __call__
    return F.to_tensor(pic)
KeyboardInterrupt
